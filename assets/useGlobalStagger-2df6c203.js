var u=Object.defineProperty,d=Object.defineProperties;var p=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var c=(t,e,o)=>e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,a=(t,e)=>{for(var o in e||(e={}))f.call(e,o)&&c(t,o,e[o]);if(l)for(var o of l(e))v.call(e,o)&&c(t,o,e[o]);return t},m=(t,e)=>d(t,p(e));import{u as g,U as i}from"./index-bff03152.js";let r,n={};const b=(t,e,o)=>{const s=g(t);n[e]?n[e]=m(a({},n[e]),{doms:[...n[e].doms,s]}):n[e]={option:o,doms:[s]}},k=()=>{r=i.timeline(),Object.keys(n).map(t=>{const{doms:e,option:o}=n[t],s=i.timeline({});s.from(e,o),r.add(s)})},C=()=>{n={},r.clear()},S=()=>{const t=setInterval(()=>{Object.keys(n).length===2&&(k(),clearInterval(t))},100)},h=()=>new Promise(t=>{r.reverse(),r.eventCallback("onReverseComplete",()=>{t(!0),C()})});function I(t,e){return{register:b,run:S,undo:h}}export{I as u};
